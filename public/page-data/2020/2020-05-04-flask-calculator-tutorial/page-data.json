{"componentChunkName":"component---src-components-templates-blog-post-js","path":"/2020/2020-05-04-flask-calculator-tutorial/","result":{"data":{"mdx":{"body":"function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"title\": \"Flask Calculator Tutorial\",\n  \"date\": \"2020-05-04T20:43:09.926Z\",\n  \"published\": true\n};\n\nvar makeShortcode = function makeShortcode(name) {\n  return function MDXDefaultShortcode(props) {\n    console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\");\n    return mdx(\"div\", props);\n  };\n};\n\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, [\"components\"]);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"p\", null, \"If you know of my YouTube Channel, \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Nano Education\"), \", then you probably know about the video I created that is one of my most popular ones on creating a simple basic Calculator with Flask. \"), mdx(\"p\", null, \"Now the simple hard truth is, at the time, I wasn't as good with Flask, but now that I am better with Flask, I am gonna retry creating it, and this time, we ain't using a CSS Framework to make my life easier. \"), mdx(\"h2\", null, \"Environment Setup\"), mdx(\"p\", null, \"To setup our environment, you would need a computer (obviously) with at least Python 3 installed. \"), mdx(\"p\", null, \"To check if you Python installed, you can run the following command in your terminal:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {}), \"python3 --version\\n\")), mdx(\"p\", null, \"Or on Windows:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {}), \"python --version\\n\")), mdx(\"p\", null, \"If you get a version number printed, you are fine, otherwise you would need to install Python to begin with.\"), mdx(\"h3\", null, \"What is Up with the \", mdx(\"inlineCode\", {\n    parentName: \"h3\"\n  }, \"3\"), \"?\"), mdx(\"p\", null, \"So, if you are on Windows, most likely you would have no python installed, so when you install python, it will be your only version of Python.\"), mdx(\"p\", null, \"On Mac, Mac comes with python2 installed, so when we install python3, it would be referred to as python3. \"), mdx(\"h3\", null, \"Install PipEnv\"), mdx(\"p\", null, \"For those who have used Node.js before, you would know how we run \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"npm init\"), \" to create a package.json and install our project packages in that directory so we can manage them individually per project. Well, Python follows the same route. Instead, we use a package called \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Pipenv\"), \". \"), mdx(\"p\", null, \"So, inside your terminal, we would want to install Pipenv \\\"globally\\\" so the next time we create a Python project, we have the command available to us. \"), mdx(\"p\", null, \"Inside your terminal, let's run:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {}), \"pip3 install pipenv\\n\")), mdx(\"p\", null, \"or on Windows:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {}), \"pip install pipenv\\n\")), mdx(\"p\", null, \"Just like Node.js has \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"npm\"), \" or \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"yarn\"), \", python has a package manager called pip. \"), mdx(\"h3\", null, \"Directory\"), mdx(\"p\", null, \"Inside your terminal, or file browser, create a directory for where you want to store this project, and open your favorite code editor to the directory you just created. \"), mdx(\"p\", null, \"For me, I will run the following commands:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-sh\"\n  }), \"mkdir flask_calculator # making a directory\\ncd flask_calculator # get into that directory\\ncode . # open Visual Studio code in the current directory\\n\")), mdx(\"h3\", null, \"Pipenv Setup\"), mdx(\"p\", null, \"So, inside the directory, run:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {}), \"pipenv shell\\n\")), mdx(\"p\", null, \"This would get us into the environment shell. Now everytime you want to work for this project, run \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"pipenv shell\"), \". \"), mdx(\"p\", null, \"In the terminal, you would see something like: \"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {}), \"(flask_calculator) user@computer$ __\\n\")), mdx(\"p\", null, \"Pay attention to the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"(flask_calculator)\"), \", if that is present, then that means we are in the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"virtual environment\"), \". \"), mdx(\"h3\", null, \"Install Flask\"), mdx(\"p\", null, \"In your terminal, we simply run: \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"pipenv install flask\"), \". And that is it! We are now ready to move on to actual coding.\"), mdx(\"h3\", null, \"VsCode Warnings\"), mdx(\"p\", null, \"If VsCode is warning you about formatter and linting, run the following commands: \"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {}), \"pipenv install pylint\\n\\n\")), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {}), \"pipenv install autopep8\\n\\n\")), mdx(\"h2\", null, \"Creating Simple Flask App\"), mdx(\"p\", null, \"Create a file called: \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"app.py\"), \". \"), mdx(\"p\", null, \"And let's import Flask and the other packages we need:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-python\"\n  }), \"# app.py\\nfrom flask import Flask, render_template, request\\n\")), mdx(\"p\", null, \"Now, we need to declare that the app we are going to write is an app for Flask basically. (in the simplest terms)\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-python\"\n  }), \"app = Flask(__name__)\\n\")), mdx(\"p\", null, \"Now, let's create a route for flask as \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"/\"), \" or root, so we can start seeing something working. \"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-python\"\n  }), \"@app.route('/')\\ndef main():\\n    return '<h1>Hello World</h1>'\\n\")), mdx(\"p\", null, \"In the code above, I have used the app variable I created, and using the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"route\"), \" method, I created the route for the root \\\"/\\\". \"), mdx(\"p\", null, \"Then, right underneath it, we will define a function with the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"def\"), \" keyword, and call the function \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"main()\"), \". Then, the main function simply returns some basic \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Hello World\"), \" HTML for us to see in the browser. \"), mdx(\"p\", null, \"To see our code in the browser, let's run:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-sh\"\n  }), \"flask run --reload\\n\")), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"!! Make sure you are always in your virtual environment \", mdx(\"inlineCode\", {\n    parentName: \"strong\"\n  }, \"pipenv shell\"))), mdx(\"p\", null, \"So, \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"flask run\"), \" just runs the file and does not allow us to have the ability to see changes in our code \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"realtime\"), \" in the browser. But adding the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"--reload\"), \" tag, allows us to do so.\"), mdx(\"p\", null, \"Hopefully, when you navigate to the URL, you will see, Hello World. So, let's now render a HTML template to the browser. \"), mdx(\"h3\", null, \"Render Template\"), mdx(\"p\", null, \"Create a directory called, \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"templates\"), \" and create a file inside \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"templates\"), \" called \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"app.html\"), \". Once the file is created, we can modify our main function to render the template. \"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-python\"\n  }), \"@app.route('/')\\ndef main():\\n    return render_template(\\\"app.html\\\")\\n\")), mdx(\"p\", null, \"Remember that we imported render_template from Flask. \"), mdx(\"p\", null, \"Now, save and go to your browser, and you should see a blank page. Since a blank page is boring, let's add some basic HTML markup. \"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-html\"\n  }), \"<!DOCTYPE html>\\n<html>\\n  <head>\\n    <title>Flask Calculator</title>\\n  </head>\\n  <body>\\n    <h1>Flask Calculator</h1>\\n    <small>By Nano Adam</small>\\n  </body>\\n</html>\\n\")), mdx(\"p\", null, \"Since, a Simple Title page is nothing, let's add the form and buttons for the Calculator we are going to be creating. \"), mdx(\"p\", null, \"Now, while editing HTML, you might have to restart the Flask server in order for the changes to show (For some reason). \"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-html\"\n  }), \"<!DOCTYPE html>\\n<html lang=\\\"en\\\">\\n  <head>\\n    <title>Calculator</title>\\n    <link\\n      rel=\\\"stylesheet\\\"\\n      href=\\\"{{ url_for('static',filename='css/app.css') }}\\\"\\n    />\\n  </head>\\n  <body>\\n    <div class=\\\"header\\\">\\n      <h2>Flask Calculator App</h2>\\n      <small>Nano Adam</small>\\n    </div>\\n\\n    <!-- Form -->\\n    <div class=\\\"container\\\">\\n      <form action=\\\"\\\" method=\\\"POST\\\">\\n        <div class=\\\"form-group\\\">\\n          <label for=\\\"Number One\\\">First Number</label>\\n          <input type=\\\"text\\\" placeholder=\\\"First Number\\\" name=\\\"num1\\\" />\\n        </div>\\n\\n        <div class=\\\"form-group\\\">\\n          <label for=\\\"Number Two\\\">Second Number</label>\\n          <input type=\\\"text\\\" placeholder=\\\"Second Number\\\" name=\\\"num2\\\" />\\n        </div>\\n\\n        <div class=\\\"form-group\\\">\\n          <label for=\\\"Operation\\\">Operation</label>\\n          <select name=\\\"operation\\\">\\n            <option value=\\\"add\\\">Add</option>\\n            <option value=\\\"subtract\\\">Subtract</option>\\n            <option value=\\\"multiply\\\">Multiply</option>\\n            <option value=\\\"divide\\\">Divide</option>\\n          </select>\\n        </div>\\n\\n        <input type=\\\"submit\\\" value=\\\"Calculate\\\" id=\\\"calc_btn\\\" class=\\\"btn\\\" />\\n        <br />\\n        <div class=\\\"alert\\\">\\n          This is an alert\\n        </div>\\n      </form>\\n    </div>\\n  </body>\\n</html>\\n\\n\")), mdx(\"p\", null, \"Now, for the CSS link, we are using the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"jinja\"), \" template syntax. But before you add css, in your root directory add a directory called: \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"static\"), \" and \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"css\"), \" inside of it. Inside the CSS directory, create a file called: \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"app.css\"), \". \"), mdx(\"p\", null, \"So, the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"{{ url_for('static',filename='css/app.css') }}\"), \" \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"jinja\"), \" syntax makes sense a bit more. We are using the static directory, which has a file called app.css in \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"css\"), \". \"), mdx(\"p\", null, \"Inside the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"app.css\"), \", insert the following CSS:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-css\"\n  }), \"* {\\n  margin: 0;\\n  padding: 0;\\n  box-sizing: border-box;\\n}\\n\\nbody {\\n  font-family: sans-serif;\\n  background: #111;\\n  color: white;\\n}\\n\\n.header {\\n  text-align: center;\\n  padding: 1.5rem 0;\\n  background: rgba(152, 0, 223, 0.527);\\n}\\n\\nform {\\n  margin: 3rem;\\n  padding: 1rem;\\n  background: rgba(174, 0, 255, 0.527);\\n}\\n\\n.form-group {\\n  padding: 0.5rem 0;\\n}\\n\\n.form-group label {\\n  display: block;\\n}\\n\\n.form-group input {\\n  width: 100%;\\n  padding: 0.3rem 0.3rem;\\n  margin: 0.5rem 0;\\n}\\n\\n.form-group select {\\n  width: 100%;\\n  border: none;\\n  margin: 0.2rem 0;\\n}\\n\\n.btn {\\n  display: block;\\n  padding: 0.5rem;\\n  margin: 1rem 0;\\n  background: rgba(57, 2, 83, 0.527);\\n  color: white;\\n  border: none;\\n  width: 100%;\\n  cursor: pointer;\\n}\\n\\n.alert {\\n  display: block;\\n  padding: 0.5rem;\\n  background: rgba(184, 30, 255, 0.527);\\n  color: white;\\n  border: none;\\n  width: 100%;\\n  text-align: center;\\n}\\n\\n\")), mdx(\"h2\", null, \"Flask Routes for Calculator\"), mdx(\"p\", null, \"I want you to notice inside the HTML file, that each input has a name attribute, and that name attribute is what we are going to use in the flask server, for it to understand what we are talking about. \"), mdx(\"p\", null, \"So, in the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"app.py\"), \", add the following code:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-python\"\n  }), \"@app.route(\\\"/calculate\\\", methods=['POST'])\\ndef calculate():\\n    return 'Calculate Route'\\n\")), mdx(\"p\", null, \"Here, we have declared a \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"POST\"), \" route with the route of \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"/calculate\"), \". Let us add this to our HTML file so the form understands that we are submitting the form to the calculate route.\"), mdx(\"p\", null, \"So modify the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"<form>\"), \" tag. \"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-html\"\n  }), \" <form action=\\\"/calculate\\\" method=\\\"POST\\\">\\n\")), mdx(\"p\", null, \"Now, we can focus on \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"app.py\"), \". \"), mdx(\"p\", null, \"Now, when we submit to this route, let us get the form data in our flask app. In the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"calculate\"), \" function, add the following:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-python\"\n  }), \"def calculate():\\n    num1 = request.form['num1']\\n    num2 = request.form['num2']\\n    operation = request.form['operation']\\n\")), mdx(\"p\", null, \"For this, we just use the request.form method and get the value by the name tags that we had in the HTML. \"), mdx(\"p\", null, \"So, now it is simple. We just need to check for what operation and do the appropriate for each operation with the two numbers we receive. \"), mdx(\"p\", null, \"The \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"render_template\"), \" function allows us to send along a \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"prop\"), \" or \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"value\"), \" to the template. For example:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-python\"\n  }), \"render_template(\\\"app.html\\\", name=\\\"Nano\\\")\\n\")), mdx(\"p\", null, \"Now, we can access the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"name\"), \" in the template like:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-html\"\n  }), \"<h1>{{ name }}</h1>\\n\")), mdx(\"p\", null, \"Now, let's add the following code of the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"calculate()\"), \" function. The \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"app.py\"), \" \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"calculate()\"), \" function should look like:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-python\"\n  }), \"def calculate():\\n    num1 = request.form['num1']\\n    num2 = request.form['num2']\\n    operation = request.form['operation']\\n\\n    if operation == 'add':\\n        result = float(num1) + float(num2)\\n        return render_template('app.html', result=result)\\n\\n    elif operation == 'subtract':\\n        result = float(num1) - float(num2)\\n        return render_template('app.html', result=result)\\n\\n    elif operation == 'multiply':\\n        result = float(num1) * float(num2)\\n        return render_template('app.html', result=result)\\n\\n    elif operation == 'divide':\\n        result = float(num1) / float(num2)\\n        return render_template('app.html', result=result)\\n    else:\\n        return render_template('app.html')\\n\\n\")), mdx(\"p\", null, \"Now, make sure you are indented correctly. As python relies on indentation compared to curly braces. \"), mdx(\"p\", null, \"To complete, we just add \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"{{ result }}\"), \" in our template. And let's test the application. Just like:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {}), \"<div class=\\\"alert\\\">\\n    {{ result }}\\n</div>\\n\")), mdx(\"p\", null, \"Now, just test the calculator and indeed it should be working correctly! \"), mdx(\"h2\", null, \"Conclusion\"), mdx(\"p\", null, \"If you would like to see the complete source code, you can check it out on the github repo: \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://github.com/nanoproductions/flask-calculator\"\n  }), \"https://github.com/nanoproductions/flask-calculator\")));\n}\n;\nMDXContent.isMDXComponent = true;","frontmatter":{"title":"Flask Calculator Tutorial","date":"2020 May 4th"}}},"pageContext":{"slug":"/2020/2020-05-04-flask-calculator-tutorial/"}}}